<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://github.com/altunenes/scramblery/userguide/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>User Guide - scramblery</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "User Guide";
        var mkdocs_page_input_path = "userguide.md";
        var mkdocs_page_url = "/altunenes/scramblery/userguide/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> scramblery
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">User Guide</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../api_reference/">API</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../scramblerydemo.html">demo</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../magic.html">animation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../pixeldance.html">animation2</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">scramblery</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>User Guide</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h4 id="installation">Installation</h4>
<ul>
<li>The package can be found in pypi. To install the package, run the following command in the terminal:</li>
<li><code>pip install scramblery</code></li>
</ul>
<h3 id="dependencies">Dependencies</h3>
<p>To use the <code>scramblery</code> package, the following Python packages need to be installed. You can install them using <code>pip</code>:</p>
<pre><code class="language-sh">pip install mediapipe
pip install opencv-python
pip install numpy
</code></pre>
<h4 id="usage">Usage</h4>
<ul>
<li>import the package:</li>
<li><code>from scramblery import scramblery</code></li>
<li>The package has 3 functions to use. Use the functions in the following manner:</li>
<li><code>scramblery.scrambleimage("Lena.png",8,8)</code></li>
<li><code>scramblery.scrambleface("Lena.png",8)</code></li>
</ul>
<p>Sometimes there may be some errors related to the size of the image when splitting into squares. Therefore, you may need to edit the number you will reserve. I will fix this issue in future releases.</p>
<p>If you want to scramble multiple images you can use following code for best results. This will make sure that the same blocks are scrambled in all images.</p>
<pre><code class="language-python">import glob
#input folder containing the images to be scrambled (in this case, the folder is called 'inputfolder' in my working directory)
input_dir = 'inputfolder'
#output folder where the scrambled images will be saved 
output_dir = 'output'
image_files = glob.glob(os.path.join(input_dir, '*.*'))
for image_file in image_files:
    #scramble the image but don't write it to disk (write=False)
    image=scrambleimage(image_file, scramble_type='pixel', write=False)
    #get the base name of the image file
    base_name = os.path.splitext(os.path.basename(image_file))[0]
    #create the output file name by appending '_scrambled.jpg' to the base name. You can change the extension to .png or .jpg
    output_file = os.path.join(output_dir, base_name + '_scrambled.png')
    #write the scrambled image to disk (using the output file name)
    cv2.imwrite(output_file, image)
</code></pre>
<p>Note that, this is only for the new output folder. If you want to scramble the images in your working directory it is more simple. You can use the following code.</p>
<pre><code class="language-python">import glob
input_dir = 'inputfolder'
image_files = glob.glob(os.path.join(input_dir, '*.*'))
for image_file in image_files:
    #scramble the images and write them into the your working directory.
    image=scrambleimage(image_file, scramble_type='pixel', write=True)
</code></pre>
<p>This was a simple example of how to use the scrambleimage function to scramble multiple images. You can easily modify the code to suit your needs.</p>
<h3 id="scrambling-faces-in-videos">Scrambling Faces in Videos</h3>
<p>The <code>scramblevideo</code> function allows you to scramble faces within a video. It's perfect for studies involving dynamic stimuli or any application where you need to anonymize faces in motion.</p>
<p>Here's how to use it: </p>
<pre><code class="language-python">
from scramblery import scramblery

# Path to the input video
input_video_path = &quot;enes23.mp4&quot;

# Path where the output video will be saved
output_video_path = &quot;enes2555.mp4&quot;

# Scramble settings
scramble_settings = {
    'splits': 25,         # Number of splits to perform on the face
    'type': 'pixel',      # Type of scrambling ('pixel', 'classic', etc.)
    'seamless': False,    # Whether to use seamless cloning (True or False)
    'bg': True,           # Whether to include background scrambling (True or False)
    'seed': None,         # Seed for random number generator (None for random seed)
    'write': False        # Must always be False for video processing
}

# Call the function
scramblery.scramblevideo(input_video_path, output_video_path, scramble_settings)
</code></pre>
<h3 id="detailed-explanation">Detailed Explanation</h3>
<ul>
<li><strong>input_video_path</strong>: The path to the video file you wish to process.</li>
<li><strong>output_video_path</strong>: The path where the scrambled video will be saved. If you don't want to save the video, set this to <code>None</code>.</li>
<li><strong>scramble_settings</strong>: A dictionary of settings that dictate how the video will be scrambled.</li>
<li><strong>splits</strong>: Determines how many blocks the face will be split into. A higher number means more, smaller blocks.</li>
<li><strong>type</strong>: The type of scrambling. Options include 'pixel', 'classic', 'fourier', etc.</li>
<li><strong>bg</strong>: If <code>True</code>, the background will also be scrambled, not just the face.</li>
<li><strong>seed</strong>: A seed for the random number generator, ensuring the same scrambling is applied across different calls. If <code>None</code>, the seed will be random.</li>
<li><strong>write</strong>: This should always be <code>False</code> for video processing, as the function handles the writing process.</li>
</ul>
<h3 id="performance-note">Performance Note</h3>
<p>Processing videos, especially long ones, can be time-consuming and computationally expensive. The time it takes to process a video largely depends on the length of the video, the resolution, the <code>splits</code> parameter, and the hardware of your computer. Ensure your system is adequately equipped to handle the processing, and expect this operation to be more time-consuming than processing images.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../api_reference/" class="btn btn-neutral float-right" title="API">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../api_reference/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
